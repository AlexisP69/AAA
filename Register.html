<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>HomePage</title>
    <link rel="stylesheet" href="/Static/Register.css" type="text/css">
</head>

<header>
    <input type="text" placeholder="Write a name" id="Name">
    <input type="text" placeholder="Write an email" id="Email">
    <input type="text" placeholder="Write a password" id="Password">
    <input type="text" placeholder="Confirm your password" id="ConfirmPassword">
    <button onclick="newUser()" id="newtask">New Task</button>
</header>

<body>
</body>
<script>
    function newUser() {
        let name = document.getElementById("Name").value;
        let email = document.getElementById("Email").value;
        let password = document.getElementById("Password").value;
        let confirmPassword = document.getElementById("ConfirmPassword").value;
        if (password != confirmPassword) {
            alert("Your password don't match !")
        } else {
            fetch("/registerApi",
                {
                    method: "POST",
                    headers: {
                        "content-type": "application/json"
                    },
                    body: JSON.stringify({
                        name: name,
                        email: email,
                        password: password,
                        userConfirmPassword: password
                    })
                }).then((res) => {
                    console.log(res);
                    return res.json()
                })
                .then((res) => {
                    const abs = document.getElementById("absolute")

                    abs.innerText = res.test
                })
        }
    }
</script>

</html>