<dialog id="wrapper" class="wrapper">
  <section class="wrapper">
    <div class="container">
      <a href="/" class="close"></a>
      <div class="img__container">
        <img src="../Static/members.png" alt="salad" class="img" />
      </div>

      <div class="content">
        <h1 class="subtitle">Welcome To AAA</h1>
        <h2>Sign Up</h2>
        <input type="text" placeholder="Write a name" id="Name" />
        <input type="text" placeholder="Write an email" id="Email" />
        <input type="text" placeholder="Write a password" id="Password" />
        <input
          type="text"
          placeholder="Confirm your password"
          id="ConfirmPassword"
        />
        <button onclick="newUser()" id="newtask">New Task</button>
      </div>
    </div>
  </section>
  <!-- function in charge on registering a new user into the DB -->
  <script>
    function newUser() {
      console.log(document.getElementById("Name").value);
      let name = document.getElementById("Name").value;
      let email = document.getElementById("Email").value;
      let password = document.getElementById("Password").value;
      let confirmPassword = document.getElementById("ConfirmPassword").value;
      if (password != confirmPassword) {
        alert("Your password don't match !");
      } else {
        fetch("/registerApi", {
          method: "POST",
          headers: {
            "content-type": "application/json",
          },
          body: JSON.stringify({
            name: name,
            email: email,
            password: password,
            userConfirmPassword: password,
          }),
        }).then((res) => {
          console.log(res);
          return res.json();
        });
      }
    }
  </script>
</dialog>
